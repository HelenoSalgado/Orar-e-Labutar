import{z as E,A as O,B as j,r as y,C as S,D as $,E as M,G as C,H as R,I as U,J as z,f as T,K as A,_ as H,o as g,c as v,a as D,d as I,w as L,e as V,q as N,F as P,g as q,t as F}from"./entry.CdAVKa7c.js";const G=()=>{const r=E();return O()!=="v4"&&console.warn("useStrapi4 is only available for v4"),{find:(u,n,d)=>r(`/${u}`,{method:"GET",params:n,...d}),findOne:(u,n,d,s)=>{typeof n=="object"&&(d=n,n=void 0);const h=[u,n].filter(Boolean).join("/");return r(h,{method:"GET",params:d,...s})},create:(u,n)=>r(`/${u}`,{method:"POST",body:{data:n}}),update:(u,n,d)=>{typeof n=="object"&&(d=n,n=void 0);const s=[u,n].filter(Boolean).join("/");return r(s,{method:"PUT",body:{data:d}})},delete:(u,n)=>{const d=[u,n].filter(Boolean).join("/");return r(d,{method:"DELETE"})}}},_=()=>G(),K=r=>r==="defer"||r===!1;function m(...r){var b;const i=typeof r[r.length-1]=="string"?r.pop():void 0;typeof r[0]!="string"&&r.unshift(i);let[t,o,e={}]=r;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const a=U(),w=o,u=()=>null,n=()=>a.isHydrating?a.payload.data[t]:a.static.data[t];e.server=e.server??!0,e.default=e.default??u,e.getCachedData=e.getCachedData??n,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??j.deep,e.dedupe=e.dedupe??"cancel";const d=()=>![null,void 0].includes(e.getCachedData(t));if(!a._asyncData[t]||!e.immediate){(b=a.payload._errors)[t]??(b[t]=null);const l=e.deep?y:S;a._asyncData[t]={data:l(e.getCachedData(t)??e.default()),pending:y(!d()),error:$(a.payload._errors,t),status:y("idle")}}const s={...a._asyncData[t]};s.refresh=s.execute=(l={})=>{if(a._asyncDataPromises[t]){if(K(l.dedupe??e.dedupe))return a._asyncDataPromises[t];a._asyncDataPromises[t].cancelled=!0}if((l._initial||a.isHydrating&&l._initial!==!1)&&d())return Promise.resolve(e.getCachedData(t));s.pending.value=!0,s.status.value="pending";const p=new Promise((c,f)=>{try{c(w(a))}catch(k){f(k)}}).then(c=>{if(p.cancelled)return a._asyncDataPromises[t];let f=c;e.transform&&(f=e.transform(c)),e.pick&&(f=J(f,e.pick)),a.payload.data[t]=f,s.data.value=f,s.error.value=null,s.status.value="success"}).catch(c=>{if(p.cancelled)return a._asyncDataPromises[t];s.error.value=z(c),s.data.value=T(e.default()),s.status.value="error"}).finally(()=>{p.cancelled||(s.pending.value=!1,delete a._asyncDataPromises[t])});return a._asyncDataPromises[t]=p,a._asyncDataPromises[t]};const h=()=>s.refresh({_initial:!0}),B=e.server!==!1&&a.payload.serverRendered;{const l=A();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const c=l._nuxtOnBeforeMountCbs;l&&(M(()=>{c.forEach(f=>{f()}),c.splice(0,c.length)}),C(()=>c.splice(0,c.length)))}B&&a.isHydrating&&(s.error.value||d())?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):l&&(a.payload.serverRendered&&a.isHydrating||e.lazy)&&e.immediate?l._nuxtOnBeforeMountCbs.push(h):e.immediate&&h(),e.watch&&R(e.watch,()=>s.refresh());const p=a.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await s.refresh()});l&&C(p)}const x=Promise.resolve(a._asyncDataPromises[t]).then(()=>s);return Object.assign(x,s),x}function J(r,i){const t={};for(const o of i)t[o]=r[o];return t}const Q={},W={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag"},X=D("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},null,-1),Y=D("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"},null,-1),Z=[X,Y];function ee(r,i){return g(),v("svg",W,Z)}const te=H(Q,[["render",ee]]);class ae{async get(i){var e,a;const{findOne:t}=_(),{data:o}=await m("posts",()=>t("posts",{filters:{slug:{$eq:i}},populate:{profile:{fields:["name","imgUrl","slug"],populate:{posts:{fields:["title","imgURL","slug"]}}}}}));return{data:(e=o.value)==null?void 0:e.data,meta:(a=o.value)==null?void 0:a.meta}}async previews(){var o,e;const{find:i}=_(),{data:t}=await m("previews",()=>i("posts",{fields:["slug","imgURL","title","description"]}));return{data:(o=t.value)==null?void 0:o.data,meta:(e=t.value)==null?void 0:e.meta}}async postsInTag(i){var e,a;const{find:t}=_(),{data:o}=await m("postsInTag",()=>t("categories",{filters:{name:{$eq:i}},populate:["posts"]}));return{data:(e=o.value)==null?void 0:e.data[0],meta:(a=o.value)==null?void 0:a.meta}}async getTags(){var o,e;const{find:i}=_(),{data:t}=await m("categories",()=>i("categories"));return{data:(o=t.value)==null?void 0:o.data,meta:(e=t.value)==null?void 0:e.meta}}}const se=new ae,ne={class:"title-icon-flex"},re=["href"],ie=I({__name:"Tags",async setup(r){let i,t;const o=y(),{data:e}=([i,t]=L(()=>se.getTags()),i=await i,t(),i);return o.value=e,(a,w)=>{const u=te;return g(),v(P,null,[D("h3",ne,[V(u),N(" Tags")]),(g(!0),v(P,null,q(T(e),n=>(g(),v("div",{class:"tags",key:n.id},[D("a",{href:"/tags/"+n.attributes.name},"#"+F(n.attributes.name),9,re)]))),128))],64)}}});export{ie as _,m as a,se as b,te as c,_ as u};
