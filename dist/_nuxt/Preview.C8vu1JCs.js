import{d as p,r as g,w as v,o as l,c,g as A,e as h,a as o,t as u,f as i,F as y,h as b,_ as w}from"./entry.Dx2xGTKy.js";import{u as _,a as m}from"./usePost.DnGcfhOG.js";import{t as D}from"./transform-date.C3ueD1rC.js";class x{async get(t){var s,n;const{findOne:e}=_(),{data:a}=await m("profile",()=>e("profiles",{filters:{slug:{$eq:t}},populate:{posts:{fields:["title","imgURL","slug"]}}}));return{data:(s=a.value)==null?void 0:s.data,meta:(n=a.value)==null?void 0:n.meta}}async getAll(){var a,s;const{findOne:t}=_(),{data:e}=await m("profiles",()=>t("profiles",{fields:["name","avatarUrl","slug","createdAt"]}));return{data:(a=e.value)==null?void 0:a.data,meta:(s=e.value)==null?void 0:s.meta}}}const U=new x,k=["href"],B=p({__name:"Preview",async setup(d){let t,e;const a=g(),{data:s}=([t,e]=v(()=>U.getAll()),t=await t,e(),t);return a.value=Object(s),(n,N)=>{const f=b;return l(!0),c(y,null,A(i(a),r=>(l(),c("div",{class:"card-author",key:r.id},[h(f,{src:r.attributes.avatarUrl,alt:r.attributes.name},null,8,["src","alt"]),o("div",null,[o("h3",null,u(r.attributes.name),1),o("p",null,"Deste "+u(("transformDate"in n?n.transformDate:i(D))(r.attributes.createdAt)),1),o("a",{href:"/authors/"+r.attributes.slug},"Ver Perfil",8,k)])]))),128)}}}),F=w(B,[["__scopeId","data-v-a4fa1a8b"]]);export{F as _,U as u};
